<!DOCTYPE html>

<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title> Malla Curricular Auditor铆a UV</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #fdf6ff url('https://www.transparenttextures.com/patterns/paper-fibers.png');
      margin: 0;
      padding: 2rem;
      color: #333;
    }

```
h1 {
  text-align: center;
  color: #6a0dad;
  font-size: 2rem;
}

.container {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  overflow-x: auto;
  gap: 2rem;
  padding-bottom: 1rem;
}

.semester {
  background: white;
  border-radius: 15px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  min-width: 250px;
  padding: 1rem;
  flex-shrink: 0;
  position: relative;
}

.semester h2 {
  text-align: center;
  background: linear-gradient(90deg, #fbb1bd, #d6bbfb);
  border-radius: 10px;
  padding: 0.5rem;
  font-size: 1.2rem;
}

.course {
  background-color: #e7e6f5;
  margin: 0.5rem 0;
  padding: 0.5rem;
  border-radius: 10px;
  transition: 0.3s;
  display: flex;
  justify-content: space-between;
  align-items: center;
  opacity: 1;
}

.course:hover {
  background-color: #d1c4e9;
}

.course.locked {
  background-color: #ddd;
  color: #aaa;
  pointer-events: none;
  opacity: 0.6;
}

.course.taken {
  text-decoration: line-through;
}

.course input {
  width: 45px;
  border-radius: 6px;
  border: 1px solid #ccc;
  padding: 2px;
  text-align: center;
}

.course.approved {
  background-color: #d0f5c8;
}

.course.exam {
  background-color: #fff5b7;
}

.sticker {
  position: absolute;
  top: -15px;
  right: -10px;
  font-size: 1.5rem;
}
```

  </style>
</head>

<body>
  <h1> Malla Curricular Auditor铆a UV 别</h1>
  <div class="container" id="mallaContainer"></div>

  <script>
    const malla = {
      '1er Semestre': [
        { nombre: 'Introducci贸n a la contabilidad', abre: ['Contabilidad financiera'] },
        { nombre: 'Normativa empresarial I', abre: ['Normativa empresarial II'] },
        { nombre: 'Gesti贸n de organizaciones I', abre: ['Gesti贸n de organizaciones II'] },
        { nombre: 'Lengua materna y autorregulaci贸n' },
        { nombre: 'Matem谩ticas I', abre: ['Matem谩ticas II', 'Econom铆a I'] },
      ],
      '2do Semestre': [
        { nombre: 'Contabilidad financiera', abre: ['Normativa contable IFRS'] },
        { nombre: 'Normativa empresarial II', abre: ['Normativa tributaria'] },
        { nombre: 'Gesti贸n de organizaciones II', abre: ['Gesti贸n de capital humano', 'Gesti贸n comercial'] },
        { nombre: 'Introducci贸n a la auditor铆a', abre: ['Control interno y gesti贸n de riesgos'] },
        { nombre: 'Econom铆a I', abre: ['Econom铆a II', 'Costos para la toma de decisiones I'] },
        { nombre: 'Matem谩ticas II', abre: ['Estad铆stica'] },
      ],
      '3er Semestre': [
        { nombre: 'Normativa contable IFRS', abre: ['Normativa contable NIC SP', 'Taller de integraci贸n perfil UV I', 'Contabilidad avanzada I', 'Proyecto de investigaci贸n'] },
        { nombre: 'Normativa tributaria', abre: ['Impuestos I', 'Taller de integraci贸n perfil UV I'] },
        { nombre: 'TIC para los negocios', abre: ['Taller de integraci贸n perfil UV I'] },
        { nombre: 'Econom铆a II', abre: ['Taller de integraci贸n perfil UV I'] },
        { nombre: 'Estad铆stica', abre: ['Estad铆stica para los negocios', 'Taller de integraci贸n perfil UV I'] },
        { nombre: 'Control interno y gesti贸n de riesgos', abre: ['Fundamentos de auditor铆a', 'Ejecuci贸n de proyectos de auditor铆a', 'Auditor铆a de sistemas', 'Proyecto de investigaci贸n', 'Pr谩ctica temprana'] },
      ],
      '4to Semestre': [
        { nombre: 'Fundamentos de auditor铆a', abre: ['Taller de integraci贸n perfil UV I'] },
        { nombre: 'Normativa contable NIC SP', abre: ['Pr谩ctica temprana'] },
        { nombre: 'Impuestos I', abre: ['Tributaci贸n aplicada I', 'Pr谩ctica temprana'] },
        { nombre: 'Costos para la toma de decisiones I', abre: ['Pr谩ctica temprana'] },
        { nombre: 'Estad铆stica para los negocios', abre: ['Bases y aplicaci贸n de ciencias de datos', 'Costos para la toma de decisiones II'] },
        { nombre: 'Ingl茅s I', abre: ['Ingl茅s II'] },
      ],
      '5to Semestre': [
        { nombre: 'Bases y aplicaci贸n de ciencias de datos', abre: ['Ejecuci贸n de proyectos de auditor铆a'] },
        { nombre: 'Tributaci贸n aplicada I', abre: ['Impuestos II'] },
        { nombre: 'Gesti贸n de capital humano' },
        { nombre: 'Costos para la toma de decisiones II', abre: ['Introducci贸n a las finanzas', 'Gesti贸n de operaciones'] },
        { nombre: 'Ingl茅s II', abre: ['Ingl茅s III'] },
        { nombre: 'Taller de integraci贸n perfil UV I', abre: ['Taller de integraci贸n perfil UV II'] },
      ],
      '6to Semestre': [
        { nombre: 'Contabilidad avanzada I', abre: ['Contabilidad avanzada II'] },
        { nombre: 'Impuestos II', abre: ['Tributaci贸n aplicada II', 'Proyecto de investigaci贸n'] },
        { nombre: 'Gesti贸n comercial', abre: ['Gesti贸n de operaciones'] },
        { nombre: 'Introducci贸n a las finanzas', abre: ['Finanzas corporativas', 'Proyecto de investigaci贸n', 'Gesti贸n financiera'] },
        { nombre: 'Ingl茅s III', abre: ['Ingl茅s IV'] },
        { nombre: 'Taller de integraci贸n perfil UV II' },
        { nombre: 'Ejecuci贸n de proyectos de auditor铆a' },
      ],
      '7mo Semestre': [
        { nombre: 'Contabilidad avanzada II', abre: ['Contabilidad avanzada III', 'Auditor铆a de estados financieros', 'Electivo 1 profesional', 'Electivo 2 profesional', 'Electivo 3 profesional', 'Direcci贸n gerencial', 'Pr谩ctica profesional'] },
        { nombre: 'Tributaci贸n aplicada II', abre: ['Gesti贸n tributaria', 'Electivo 1 profesional', 'Electivo 2 profesional', 'Electivo 3 profesional', 'Direcci贸n gerencial', 'Pr谩ctica profesional'] },
        { nombre: 'Gesti贸n de operaciones', abre: ['Planificaci贸n y control de gesti贸n', 'Electivo 1 profesional', 'Electivo 2 profesional', 'Electivo 3 profesional', 'Direcci贸n gerencial'] },
        { nombre: 'Auditor铆a de sistemas', abre: ['Electivo 1 profesional', 'Electivo 2 profesional', 'Electivo 3 profesional', 'Direcci贸n gerencial'] },
        { nombre: 'Finanzas corporativas', abre: ['Electivo 1 profesional', 'Electivo 2 profesional', 'Electivo 3 profesional', 'Formulaci贸n y evaluaci贸n de proyectos de inversi贸n', 'Direcci贸n gerencial'] },
        { nombre: 'Ingl茅s IV', abre: ['Electivo 1 profesional', 'Electivo 2 profesional', 'Electivo 3 profesional', 'Direcci贸n gerencial'] },
        { nombre: 'Proyecto de investigaci贸n', abre: ['Investigaci贸n aplicada', 'Electivo 1 profesional', 'Electivo 2 profesional', 'Electivo 3 profesional', 'Direcci贸n gerencial'] },
        { nombre: 'Pr谩ctica temprana', abre: ['Electivo 1 profesional', 'Electivo 2 profesional', 'Electivo 3 profesional', 'Direcci贸n gerencial', 'Pr谩ctica profesional'] },
      ],
      '8vo Semestre': [
        { nombre: 'Contabilidad avanzada III', abre: ['Taller de integraci贸n profesional'] },
        { nombre: 'Gesti贸n tributaria', abre: ['Taller de integraci贸n profesional'] },
        { nombre: 'Planificaci贸n y control de gesti贸n', abre: ['Taller de integraci贸n profesional'] },
        { nombre: 'Auditor铆a de estados financieros', abre: ['Pr谩ctica profesional', 'Taller de integraci贸n profesional'] },
        { nombre: 'Gesti贸n financiera', abre: ['Taller de integraci贸n profesional'] },
        { nombre: 'Investigaci贸n aplicada', abre: ['Taller de integraci贸n profesional'] },
      ],
      '9no Semestre': [
        { nombre: 'Electivo 1 profesional' },
        { nombre: 'Electivo 2 profesional' },
        { nombre: 'Electivo 3 profesional' },
        { nombre: 'Formulaci贸n y evaluaci贸n de proyectos de inversi贸n' },
        { nombre: 'Direcci贸n gerencial' },
        { nombre: 'Pr谩ctica profesional' },
      ],
      '10mo Semestre': [
        { nombre: 'Taller de integraci贸n profesional' },
      ],
    };

    const notas = JSON.parse(localStorage.getItem('notas') || '{}');

    function crearCurso(nombre, abre = []) {
      const div = document.createElement('div');
      div.className = 'course';
      const label = document.createElement('span');
      label.textContent = nombre;
      const input = document.createElement('input');
      input.type = 'number';
      input.min = 1;
      input.max = 7;
      input.step = 0.1;
      input.value = notas[nombre] || '';
      div.appendChild(label);
      div.appendChild(input);

      if (abre.length > 0) div.dataset.abre = JSON.stringify(abre);
      input.addEventListener('input', () => {
        const val = parseFloat(input.value);
        if (!isNaN(val)) notas[nombre] = val;
        else delete notas[nombre];
        localStorage.setItem('notas', JSON.stringify(notas));
        actualizarUI();
      });
      return div;
    }

    function actualizarUI() {
      const cursos = document.querySelectorAll('.course');
      const aprobados = {};

      cursos.forEach(c => {
        const nombre = c.querySelector('span').textContent;
        const nota = parseFloat(c.querySelector('input').value);
        c.className = 'course';
        if (!isNaN(nota)) {
          if (nota >= 5) {
            c.classList.add('approved', 'taken');
            aprobados[nombre] = true;
          } else if (nota >= 4) {
            c.classList.add('exam', 'taken');
            aprobados[nombre] = true;
          } else {
            aprobados[nombre] = false;
          }
        }
      });

      cursos.forEach(c => {
        const nombre = c.querySelector('span').textContent;
        const requisitos = Object.entries(malla)
          .flatMap(([_, cs]) => cs)
          .filter(({ abre }) => (abre || []).includes(nombre))
          .map(c => c.nombre);

        if (requisitos.some(req => !(req in aprobados) || aprobados[req] === false)) {
          c.classList.add('locked');
        }
      });
    }

    const container = document.getElementById('mallaContainer');
    for (const [semestre, cursos] of Object.entries(malla)) {
      const col = document.createElement('div');
      col.className = 'semester';
      const h2 = document.createElement('h2');
      h2.textContent = semestre;
      col.appendChild(h2);
      cursos.forEach(curso => {
        col.appendChild(crearCurso(curso.nombre, curso.abre));
      });
      container.appendChild(col);
    }

    actualizarUI();
  </script>

</body>

</html>
